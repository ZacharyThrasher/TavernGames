<form class="tavern-dialog cheat-dialog">
  <div class="form-group">
    <label>{{localize "TAVERN.Cheat.SelectDie"}}</label>
    <select name="dieIndex" id="cheat-die-select">
      {{#each dice}}
      <option value="{{index}}" data-max="{{die}}" data-current="{{result}}">
        Die {{displayIndex}}: d{{die}} ({{visibility}}, current: {{result}})
      </option>
      {{/each}}
    </select>
  </div>

  <div class="form-group">
    <label>{{localize "TAVERN.Cheat.Adjustment"}}</label>
    <div class="adjustment-controls">
      {{#each adjustments}}
      <label class="cheat-adj-btn">
        <input type="radio" name="adjustment" value="{{value}}" {{checked isDefault}} />
        <span class="adj-label {{colorClass}}">{{label}}</span>
      </label>
      {{/each}}
    </div>
    <div class="cheat-preview">
      <span id="cheat-current-display">{{initialCurrent}}</span> 
      <i class="fa-solid fa-arrow-right"></i> 
      <span id="cheat-preview-value">{{initialPreview}}</span>
    </div>
  </div>

  <hr>

  <div class="form-group">
    <label class="section-label">{{localize "TAVERN.Cheat.Type"}}</label>
    <div class="cheat-type-options">
      <label class="radio-label">
        <input type="radio" name="cheatType" value="physical" checked />
        <div class="label-content">
          <strong>{{localize "TAVERN.Cheat.Physical"}}</strong>
          <span class="hint">{{localize "TAVERN.Cheat.PhysicalHint"}}</span>
        </div>
      </label>
      <label class="radio-label">
        <input type="radio" name="cheatType" value="magical" />
        <div class="label-content">
          <strong>{{localize "TAVERN.Cheat.Magical"}}</strong>
          <span class="hint">{{localize "TAVERN.Cheat.MagicalHint"}}</span>
        </div>
      </label>
    </div>
  </div>

  <div class="form-group" id="physical-skill-group">
    <label>{{localize "TAVERN.Cheat.SkillPhysical"}}</label>
    <select name="physicalSkill">
      <option value="slt" {{selected (gte sltMod decMod)}}>{{localize "DND5E.SkillSlt"}} ({{localize "DND5E.AbilityDexAbbr"}}) {{formatMod sltMod}}</option>
      <option value="dec" {{selected (gt decMod sltMod)}}>{{localize "DND5E.SkillDec"}} ({{localize "DND5E.AbilityChaAbbr"}}) {{formatMod decMod}}</option>
    </select>
  </div>

  <div class="form-group" id="magical-skill-group" style="display: none;">
    <label>{{localize "TAVERN.Cheat.SkillMagical"}}</label>
    <select name="magicalSkill">
      <option value="int" {{selected (and (gte intMod wisMod) (gte intMod chaMod))}}>{{localize "DND5E.AbilityInt"}} {{formatMod intMod}}</option>
      <option value="wis" {{selected (and (gt wisMod intMod) (gte wisMod chaMod))}}>{{localize "DND5E.AbilityWis"}} {{formatMod wisMod}}</option>
      <option value="cha" {{selected (and (gt chaMod intMod) (gt chaMod wisMod))}}>{{localize "DND5E.AbilityCha"}} {{formatMod chaMod}}</option>
    </select>
  </div>

  <hr>

  <div class="dialog-info">
    <p class="hint"><i class="fa-solid fa-info-circle"></i> <strong>{{localize "TAVERN.Cheat.HeatDC"}}:</strong> {{heatDC}} (+2 per cheat)</p>
    <p class="hint success"><i class="fa-solid fa-star"></i> <strong>{{localize "TAVERN.Cheat.Nat20"}}:</strong> {{localize "TAVERN.Cheat.Nat20Effect"}}</p>
    <p class="hint danger"><i class="fa-solid fa-warning"></i> <strong>{{localize "TAVERN.Cheat.Nat1"}}:</strong> {{localize "TAVERN.Cheat.Nat1Effect"}}</p>
  </div>

  <div class="form-footer">
    <button type="button" data-action="close" class="btn btn-secondary">
      <i class="fa-solid fa-times"></i> {{localize "Cancel"}}
    </button>
    <button type="submit" class="btn btn-primary">
      <i class="fa-solid fa-hand-sparkles"></i> {{localize "TAVERN.Cheat.Action"}}
    </button>
  </div>
</form>